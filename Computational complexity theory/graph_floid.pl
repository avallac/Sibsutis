#!/usr/bin/perl

use strict;
use Data::Dumper;

my ($i,$j,$x,$y,$k);
sub min ($$) { $_[$_[0] > $_[1]] }

my $N = 7;
#         1    2   3     4    5    6    7
my $m = [[   0,  20,1000,1000,1000,   1,   1],
         [  20,   0,   6,1000,1000,1000,   4],
         [1000,   6,   0,   3,1000,1000,   9],
         [1000,1000,   3,   0,  17,1000,  16],
         [1000,1000,1000,  17,   0,  20,  25],
         [   1,1000,1000,1000,  20,   0,  36],
         [   1,   4,   9,  16,  25,  36,   0]];

for ($k = 0; $k < $N; $k++) {
    for ($i = 0; $i < $N; $i++) {
        for ($j = 0; $j < $N; $j++) {
            $m->[$i]->[$j] = min($m->[$i]->[$j], $m->[$i]->[$k] + $m->[$k]->[$j]);
        }
    }
}
for ($i = 0; $i < $N; $i++) {
    for ($j = 0; $j < $N; $j++) {
        $m->[$i]->[$j] = "0".$m->[$i]->[$j] if $m->[$i]->[$j] < 10;
        print $m->[$i]->[$j]." ";
    }
    print "\n";
}
